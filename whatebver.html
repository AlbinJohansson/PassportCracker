"\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"sv\">\r\n<head>\r\n    <meta property=\"og:image\" content=\"http://bokapass.nemoq.se/Booking/Resources/Images/OG_Logo.png\" />\r\n    <meta property=\"og:image:secure\" content=\"http://bokapass.nemoq.se/Booking/Resources/Images/OG_Logo.png\" />\r\n    <meta name=\"viewport\" content=\"initial-scale=1\">\r\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=9\" />\r\n    <title>Tidsbokning för pass / nationellt id-kort</title>\r\n\r\n    \r\n    <link rel=\"stylesheet\" href=\"/Booking/Content/base.css\" />\r\n    <link rel=\"stylesheet\" href=\"/Booking/Content/themes/base/minified/jquery-ui.min.css\" />\r\n    <style type=\"text/css\">\r\n    body\r\n    {\r\n        background-color:#ffffff !important;\r\n        \r\n    }\r\n    a\r\n    {\r\n        \r\n    }\r\n    .navbar, .navbar-inner\r\n    {\r\n        background-color:#ffffff !important;\r\n    }\r\n    #ContentColumn\r\n    {\r\n        background-color:#ffffff !important;\r\n    }\r\n    div.Box h1,h2,h3, div.Box, .breadcrumb\r\n    {\r\n        background-color:#296aa3 !important;\r\n        border-color:#296aa3 !important;\r\n\r\n    }\r\n    Box h1,h2,h3,h4\r\n    {\r\n        !important;\r\n    }\r\n\r\n    h1,h2,h3,h4\r\n    {\r\n        ;\r\n    }\r\n\r\n    table th\r\n    {\r\n        background-color:#ffffff !important;\r\n    }\r\n    table.table, table.table td, table.table th\r\n    {\r\n        border-color:#dde6ff !important;\r\n    }\r\n\r\n        \r\n    .timetable td.timetable-cells div.timecell.selected\r\n    {\r\n        border:color:red;\r\n\r\n    }\r\n    \r\n\r\n    .timecell.selected {\r\n        background-color:rgba(255,204,51,1.0) !important;color:black !important;;\r\n    }\r\n\r\n    .footer hr\r\n    {\r\n        background-color:#9ec0e7 !important;\r\n    }\r\n    div.Box\r\n    {\r\n        background-color:#ffffff !important;\r\n    }\r\n    div.Box h1,h2,h3, .breadcrumb > li, .breadcrumb > li a\r\n    {\r\n        color:#ffffff !important;\r\n    }\r\n\r\n    .btn-primary\r\n    {\r\n        color: #ffffff;\r\n\t    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\r\n        background-color: #0044CC;\r\n\t    *background-color: #0044CC;\r\n\t    background-image: -moz-linear-gradient(top, #0088CC, #0044CC);\r\n\t    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088CC), to(#0044CC));\r\n\t    background-image: -webkit-linear-gradient(top, #0088CC, #0044CC);\r\n\t    background-image: -o-linear-gradient(top, #0088CC, #0044CC);\r\n\t    background-image: linear-gradient(to bottom, #0088CC, #0044CC);\r\n\t    background-repeat: repeat-x;\r\n        border-color: #0044CC;\r\n\t    border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0088CC', endColorstr='#0044CC', GradientType=0);\r\n\t    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\r\n        \r\n    }\r\n    .btn-primary:hover,\r\n    .btn-primary:focus,\r\n    .btn-primary:active,\r\n    .btn-primary.active,\r\n    .btn-primary.disabled,\r\n    .btn-primary[disabled]\r\n    {\r\n        color: #ffffff;\r\n\t    background-color: #0044CC;\r\n\t    *background-color: #003bb3;\r\n    }\r\n\r\n    .btn-info\r\n    {\r\n        color: #ffffff;\r\n\t    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\r\n        background-color: #296aa3;\r\n\t    *background-color: #296aa3;\r\n\t    background-image: -moz-linear-gradient(top, #4891d1, #296aa3);\r\n\t    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#4891d1), to(#296aa3));\r\n\t    background-image: -webkit-linear-gradient(top, #4891d1, #296aa3);\r\n\t    background-image: -o-linear-gradient(top, #4891d1, #296aa3);\r\n\t    background-image: linear-gradient(to bottom, #4891d1, #296aa3);\r\n\t    background-repeat: repeat-x;\r\n        border-color: #296aa3;\r\n\t    border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4891d1', endColorstr='#296aa3', GradientType=0);\r\n\t    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\r\n        \r\n    }\r\n    .btn-info:hover,\r\n    .btn-info:focus,\r\n    .btn-info:active,\r\n    .btn-info.active,\r\n    .btn-info.disabled,\r\n    .btn-info[disabled]\r\n    {\r\n        color: #ffffff;\r\n\t    background-color: #296aa3;\r\n\t    *background-color: #003bb3;\r\n    }\r\n</style>\r\n\r\n    <style type=\"text/css\">\r\n.flag_sv-SE { width:31px;}\r\n.flag_en-GB { width:32px;}\r\n.helper_text { width:24px;}\r\n.flag_nb-NO { width:27px;}\r\n.flag_ru-RU { width:33px;}\r\n.flag_da-DK { width:31px;}\r\n.flag_hr-HR { width:33px;}\r\n.flag_pl-PL { width:31px;}\r\n.flag_el-GR { width:30px;}\r\n\r\n    </style>\r\n    \r\n\r\n    <script src=\"/Booking/bundles/jquery?v=qWq_uEaMDsyjxUIrGMHmmh4Hs1ha7TuAcFmRMIvZ4O81\"></script>\r\n\r\n    \r\n    <script src=\"/Booking/Scripts/Enalog/init.js\"></script>\r\n\r\n    \r\n</head>\r\n<body>\r\n    <div class=\"navbar navbar-static-top\">\r\n        <div class=\"navbar-inner\">\r\n            <div class=\"container\">\r\n                <a class=\"btn btn-navbar btn-info\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\r\n                    <span class=\"icon-bar\"></span>\r\n                    <span class=\"icon-bar\"></span>\r\n                    <span class=\"icon-bar\"></span>\r\n                </a>\r\n\r\n                <img class=\"brand logotype\" src=\"/Booking/Resources/Images/2/logofinal_fixed.jpg\" alt=\"Logotyp\" />\r\n\r\n                <div class=\"nav-collapse\">\r\n                    <!-- .nav, .navbar-search, .navbar-form, etc -->\r\n                    \r\n                    <div class=\"language-bar\">\r\n                        <table>\r\n                            <tr>\r\n                                    <td class=\"Center\">\r\n                                            <a href=\"/Booking/Booking/SetLanguage/kalmar?code=sv-SE\">\r\n                                                &nbsp;\r\n                                                <img class=\"flag_sv-SE\" id=\"flag_sv-SE\" src=\"/Booking/Resources/Images/flag_sv-SE.png\" alt=\"Svenska\" />&nbsp;\r\n                                            </a>\r\n                                    </td>\r\n                                    <td class=\"Center\">\r\n                                            <a href=\"/Booking/Booking/SetLanguage/kalmar?code=en-GB\">\r\n                                                &nbsp;\r\n                                                <img class=\"flag_en-GB\" id=\"flag_en-GB\" src=\"/Booking/Resources/Images/2/uk-flag.png\" alt=\"English\" />&nbsp;\r\n                                            </a>\r\n                                    </td>\r\n                                \r\n                                <td>&nbsp;</td>\r\n                                    <td>\r\n                                        <a href=\"javascript:window.print();\">\r\n                                            <img id=\"Printer\" src=\"/Booking/Resources/Images/Printer.png\" alt=\"Print\" />\r\n                                        </a>\r\n                                    </td>\r\n                            </tr>\r\n                            <tr>\r\n                                    <td>\r\n                                            &nbsp;<a href=\"/Booking/Booking/SetLanguage/kalmar?code=sv-SE\">Svenska</a>&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                            &nbsp;<a href=\"/Booking/Booking/SetLanguage/kalmar?code=en-GB\">English</a>&nbsp;\r\n                                    </td>\r\n                                \r\n                                <td>&nbsp;</td>\r\n                                    <td><a href=\"javascript:window.print();\">Skriv ut</a></td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n        <div class=\"row-fluid\">\r\n            <div id=\"ContentColumn\" class=\"span12\">\r\n\r\n                <ul class=\"breadcrumb\">\r\n                    \r\n    \r\n<li><a href=\"/Booking/Booking/Previous/kalmar?id=2\">Start (b&#246;rja om)</a></li>\r\n<li>> <a href=\"/Booking/Booking/Previous/kalmar?id=1\">Avtal</a></li>\r\n<li>> Ärendekategorier</li>\r\n\r\n\r\n                </ul>\r\n\r\n                <div id=\"Main\" class=\"\">\r\n                    \r\n\r\n\r\n\r\n\r\n<div class=\"header\">\r\n    <h1>Bor du i Sverige?</h1>\r\n</div>\r\n\r\n<p> </p>\r\n\r\n\r\n\r\n<form action=\"/Booking/Booking/Next/kalmar\" class=\"form-horizontal\" method=\"post\">    <div class=\"Box\">\r\n        <h2>\r\n            Boende\r\n            <img alt=\"Help instructions\" class=\"helper_text\" src=\"/Booking/Resources/Images/2/ic_help_white_24dp.png\" tabindex=\"0\" title=\" \"></img>\r\n        </h2>\r\n\r\n        \r\n\r\n\r\n<input id=\"ServiceCategoryCustomers_0__CustomerIndex\" name=\"ServiceCategoryCustomers[0].CustomerIndex\" type=\"hidden\" value=\"0\" />\r\n<div class=\"control-group\">\r\n\r\n    <label class=\"span3 control-label\">\r\n    </label>\r\n    <div class=\"span9 radio-inline\">\r\n            <label class=\"radio\">\r\n                <input id=\"ServiceCategoryCustomers_0__ServiceCategoryId\" name=\"ServiceCategoryCustomers[0].ServiceCategoryId\" type=\"radio\" value=\"2\" />\r\n                Ja, jag bor i Sverige\r\n            </label>\r\n            <label class=\"radio\">\r\n                <input id=\"ServiceCategoryCustomers_0__ServiceCategoryId\" name=\"ServiceCategoryCustomers[0].ServiceCategoryId\" type=\"radio\" value=\"1\" />\r\n                Nej, jag bor utomlands\r\n            </label>\r\n    </div>\r\n</div>\r\n    </div>\r\n    <div class=\"btn-toolbar\">\r\n        <a class=\"btn btn-info\" href=\"/Booking/Booking/Previous/kalmar\">Tillbaka</a>\r\n        <input class=\"btn btn-primary pull-right disable-on-save\" type=\"submit\" name=\"Next\" value=\"N&#228;sta\" />\r\n    </div>\r\n</form>\r\n                </div>\r\n\r\n                <footer class=\"footer\">\r\n                    <hr />\r\n                    <div>\r\n                        <a href=\"/Booking/Info/Cookies/kalmar\" target=\"_blank\">Cookies</a>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;\r\n                            &nbsp; &nbsp;| &nbsp; &nbsp; Powered by&nbsp;\r\n                            <a class=\"InfoBarNemoq\" href=\"http://www.nemoq.com\" target=\"_blank\">\r\n                                Nemo-Q International AB\r\n                            </a>\r\n                    </div>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n<script type=\"text/javascript\">\r\n    $(document).ready(function () {\r\n        $(\"#datepicker\").datepicker({\r\n            showOn: 'both',\r\n            buttonImage: '/Booking/Resources/Images/base_calendar_16.png',\r\n            buttonImageOnly: false,\r\n            showButtonPanel: true,\r\n            onClose: removeAria,\r\n            closeText: \"Stäng\",\r\n            prevText: \"Föregående\",\r\n            nextText: \"Nästa\",\r\n            currentText: \"Idag\",\r\n            monthNames: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n            monthNamesShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n            dayNames: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\r\n            dayNamesShort: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"],\r\n            dayNamesMin: [\"Sö\", \"Må\", \"Ti\", \"On\", \"To\", \"Fr\", \"Lö\"],\r\n            weekHeader: \"Ve\",\r\n            dateFormat: \"yy-mm-dd\",\r\n            firstDay: 1,\r\n            isRTL: false,\r\n            showMonthAfterYear: false,\r\n            yearSuffix: \"\",\r\n\r\n            changeMonth: true,\r\n            changeYear: true,\r\n            constrainInput: true,\r\n            //maxDate: \"+0d\",\r\n            selectOtherMonths: true,\r\n            showAnim: \"\",\r\n            showOtherMonths: true,\r\n            showWeek: true\r\n        }).attr(\"autocomplete\", \"off\"); // Turn off browser autocomplete for datepickers\r\n\r\n        // Add aria-describedby to the button referring to the label\r\n        $('.ui-datepicker-trigger').attr('aria-describedby', 'datepickerLabel').children('img').attr('tabindex', '0');\r\n        dayTripper();\r\n    });\r\n\r\n    function dayTripper() {\r\n      $('.ui-datepicker-trigger').click(function () {\r\n        setTimeout(function () {\r\n          var today = $('.ui-datepicker-today a')[0];\r\n\r\n          if (!today) {\r\n            today = $('.ui-state-active')[0] ||\r\n                    $('.ui-state-default')[0];\r\n          }\r\n\r\n\r\n          // Hide the entire page (except the date picker)\r\n          // from screen readers to prevent document navigation\r\n          // (by headings, etc.) while the popup is open\r\n          $(\"main\").attr('id','dp-container');\r\n          $(\"#dp-container\").attr('aria-hidden','true');\r\n          $(\"#skipnav\").attr('aria-hidden','true');\r\n\r\n          // Hide the \"today\" button because it doesn't do what\r\n          // you think it supposed to do\r\n          $(\".ui-datepicker-current\").hide();\r\n\r\n          today.focus();\r\n          datePickHandler();\r\n          $(document).on('click', '#ui-datepicker-div .ui-datepicker-close', function () {\r\n            closeCalendar();\r\n          });\r\n        }, 0);\r\n      });\r\n    }\r\n\r\n    function datePickHandler() {\r\n      var activeDate;\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      var input = document.getElementById('datepicker');\r\n\r\n      if (!container || !input) {\r\n        return;\r\n      }\r\n\r\n     // $(container).find('table').first().attr('role', 'grid');\r\n\r\n      container.setAttribute('role', 'application');\r\n      container.setAttribute('aria-label', 'Calendar view date-picker');\r\n\r\n        // the top controls:\r\n      var prev = $('.ui-datepicker-prev', container)[0],\r\n          next = $('.ui-datepicker-next', container)[0];\r\n\r\n\r\n    // This is the line that needs to be fixed for use on pages with base URL set in head\r\n      next.href = 'javascript:void(0)';\r\n      prev.href = 'javascript:void(0)';\r\n\r\n      next.setAttribute('role', 'button');\r\n      next.removeAttribute('title');\r\n      prev.setAttribute('role', 'button');\r\n      prev.removeAttribute('title');\r\n\r\n      appendOffscreenMonthText(next);\r\n      appendOffscreenMonthText(prev);\r\n\r\n      // delegation won't work here for whatever reason, so we are\r\n      // forced to attach individual click listeners to the prev /\r\n      // next month buttons each time they are added to the DOM\r\n      $(next).on('click', handleNextClicks);\r\n      $(prev).on('click', handlePrevClicks);\r\n\r\n      monthDayYearText();\r\n\r\n      $(container).on('keydown', function calendarKeyboardListener(keyVent) {\r\n        var which = keyVent.which;\r\n        var target = keyVent.target;\r\n        var dateCurrent = getCurrentDate(container);\r\n\r\n        if (!dateCurrent) {\r\n          dateCurrent = $('a.ui-state-default')[0];\r\n          setHighlightState(dateCurrent, container);\r\n        }\r\n\r\n        if (27 === which) {\r\n          keyVent.stopPropagation();\r\n          return closeCalendar();\r\n        } else if (which === 9 && keyVent.shiftKey) { // SHIFT + TAB\r\n          keyVent.preventDefault();\r\n          if ($(target).hasClass('ui-datepicker-close')) { // close button\r\n            $('.ui-datepicker-prev')[0].focus();\r\n          } else if ($(target).hasClass('ui-state-default')) { // a date link\r\n            $('.ui-datepicker-close')[0].focus();\r\n          } else if ($(target).hasClass('ui-datepicker-prev')) { // the prev link\r\n            $('.ui-datepicker-next')[0].focus();\r\n          } else if ($(target).hasClass('ui-datepicker-next')) { // the next link\r\n            activeDate = $('.ui-state-highlight') ||\r\n                        $('.ui-state-active')[0];\r\n            if (activeDate) {\r\n              activeDate.focus();\r\n            }\r\n          }\r\n        } else if (which === 9) { // TAB\r\n          keyVent.preventDefault();\r\n          if ($(target).hasClass('ui-datepicker-close')) { // close button\r\n            activeDate = $('.ui-state-highlight') ||\r\n                        $('.ui-state-active')[0];\r\n            if (activeDate) {\r\n              activeDate.focus();\r\n            }\r\n          } else if ($(target).hasClass('ui-state-default')) {\r\n            $('.ui-datepicker-next')[0].focus();\r\n          } else if ($(target).hasClass('ui-datepicker-next')) {\r\n            $('.ui-datepicker-prev')[0].focus();\r\n          } else if ($(target).hasClass('ui-datepicker-prev')) {\r\n            $('.ui-datepicker-close')[0].focus();\r\n          }\r\n        } else if (which === 37) { // LEFT arrow key\r\n          // if we're on a date link...\r\n          if (!$(target).hasClass('ui-datepicker-close') && $(target).hasClass('ui-state-default')) {\r\n            keyVent.preventDefault();\r\n            previousDay(target);\r\n          }\r\n        } else if (which === 39) { // RIGHT arrow key\r\n          // if we're on a date link...\r\n          if (!$(target).hasClass('ui-datepicker-close') && $(target).hasClass('ui-state-default')) {\r\n            keyVent.preventDefault();\r\n            nextDay(target);\r\n          }\r\n        } else if (which === 38) { // UP arrow key\r\n          if (!$(target).hasClass('ui-datepicker-close') && $(target).hasClass('ui-state-default')) {\r\n            keyVent.preventDefault();\r\n            upHandler(target, container, prev);\r\n          }\r\n        } else if (which === 40) { // DOWN arrow key\r\n          if (!$(target).hasClass('ui-datepicker-close') && $(target).hasClass('ui-state-default')) {\r\n            keyVent.preventDefault();\r\n            downHandler(target, container, next);\r\n          }\r\n        } else if (which === 13) { // ENTER\r\n          if ($(target).hasClass('ui-state-default')) {\r\n            setTimeout(function () {\r\n              closeCalendar();\r\n            }, 100);\r\n          } else if ($(target).hasClass('ui-datepicker-prev')) {\r\n            handlePrevClicks();\r\n          } else if ($(target).hasClass('ui-datepicker-next')) {\r\n            handleNextClicks();\r\n          }\r\n        } else if (32 === which) {\r\n          if ($(target).hasClass('ui-datepicker-prev') || $(target).hasClass('ui-datepicker-next')) {\r\n            target.click();\r\n          }\r\n        } else if (33 === which) { // PAGE UP\r\n          moveOneMonth(target, 'prev');\r\n        } else if (34 === which) { // PAGE DOWN\r\n          moveOneMonth(target, 'next');\r\n        } else if (36 === which) { // HOME\r\n          var firstOfMonth = $(target).closest('tbody').find('.ui-state-default')[0];\r\n          if (firstOfMonth) {\r\n            firstOfMonth.focus();\r\n            setHighlightState(firstOfMonth, $('#ui-datepicker-div')[0]);\r\n          }\r\n        } else if (35 === which) { // END\r\n          var $daysOfMonth = $(target).closest('tbody').find('.ui-state-default');\r\n          var lastDay = $daysOfMonth[$daysOfMonth.length - 1];\r\n          if (lastDay) {\r\n            lastDay.focus();\r\n            setHighlightState(lastDay, $('#ui-datepicker-div')[0]);\r\n          }\r\n        }\r\n        $(\".ui-datepicker-current\").hide();\r\n      });\r\n    }\r\n\r\n    function closeCalendar() {\r\n      var container = $('#ui-datepicker-div');\r\n      $(container).off('keydown');\r\n      var input = $('#datepicker')[0];\r\n      $(input).datepicker('hide');\r\n\r\n      input.focus();\r\n    }\r\n\r\n    function removeAria() {\r\n      // make the rest of the page accessible again:\r\n      $(\"#dp-container\").removeAttr('aria-hidden');\r\n      $(\"#skipnav\").removeAttr('aria-hidden');\r\n    }\r\n\r\n    ///////////////////////////////\r\n    //////////////////////////// //\r\n    ///////////////////////// // //\r\n    // UTILITY-LIKE THINGS // // //\r\n    ///////////////////////// // //\r\n    //////////////////////////// //\r\n    ///////////////////////////////\r\n    function isOdd(num) {\r\n      return num % 2;\r\n    }\r\n\r\n    function moveOneMonth(currentDate, dir) {\r\n      var button = (dir === 'next')\r\n                  ? $('.ui-datepicker-next')[0]\r\n                  : $('.ui-datepicker-prev')[0];\r\n\r\n      if (!button) {\r\n        return;\r\n      }\r\n\r\n      var ENABLED_SELECTOR = '#ui-datepicker-div tbody td:not(.ui-state-disabled)';\r\n      var $currentCells = $(ENABLED_SELECTOR);\r\n      var currentIdx = $.inArray(currentDate.parentNode, $currentCells);\r\n\r\n      button.click();\r\n      setTimeout(function () {\r\n        updateHeaderElements();\r\n\r\n        var $newCells = $(ENABLED_SELECTOR);\r\n        var newTd = $newCells[currentIdx];\r\n        var newAnchor = newTd && $(newTd).find('a')[0];\r\n\r\n        while (!newAnchor) {\r\n          currentIdx--;\r\n          newTd = $newCells[currentIdx];\r\n          newAnchor = newTd && $(newTd).find('a')[0];\r\n        }\r\n\r\n        setHighlightState(newAnchor, $('#ui-datepicker-div')[0]);\r\n        newAnchor.focus();\r\n\r\n      }, 0);\r\n\r\n    }\r\n\r\n    function handleNextClicks() {\r\n      setTimeout(function () {\r\n        updateHeaderElements();\r\n        prepHighlightState();\r\n        $('.ui-datepicker-next').focus();\r\n        $(\".ui-datepicker-current\").hide();\r\n      }, 0);\r\n    }\r\n\r\n    function handlePrevClicks() {\r\n      setTimeout(function () {\r\n        updateHeaderElements();\r\n        prepHighlightState();\r\n        $('.ui-datepicker-prev').focus();\r\n        $(\".ui-datepicker-current\").hide();\r\n      }, 0);\r\n    }\r\n\r\n    function previousDay(dateLink) {\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      if (!dateLink) {\r\n        return;\r\n      }\r\n      var td = $(dateLink).closest('td');\r\n      if (!td) {\r\n        return;\r\n      }\r\n\r\n      var prevTd = $(td).prev(),\r\n          prevDateLink = $('a.ui-state-default', prevTd)[0];\r\n\r\n      if (prevTd && prevDateLink) {\r\n        setHighlightState(prevDateLink, container);\r\n        prevDateLink.focus();\r\n      } else {\r\n        handlePrevious(dateLink);\r\n      }\r\n    }\r\n\r\n\r\n    function handlePrevious(target) {\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      if (!target) {\r\n        return;\r\n      }\r\n      var currentRow = $(target).closest('tr');\r\n      if (!currentRow) {\r\n        return;\r\n      }\r\n      var previousRow = $(currentRow).prev();\r\n\r\n      if (!previousRow || previousRow.length === 0) {\r\n        // there is not previous row, so we go to previous month...\r\n        previousMonth();\r\n      } else {\r\n        var prevRowDates = $('td a.ui-state-default', previousRow);\r\n        var prevRowDate = prevRowDates[prevRowDates.length - 1];\r\n\r\n        if (prevRowDate) {\r\n          setTimeout(function () {\r\n            setHighlightState(prevRowDate, container);\r\n            prevRowDate.focus();\r\n          }, 0);\r\n        }\r\n      }\r\n    }\r\n\r\n    function previousMonth() {\r\n      var prevLink = $('.ui-datepicker-prev')[0];\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      prevLink.click();\r\n      // focus last day of new month\r\n      setTimeout(function () {\r\n        var trs = $('tr', container),\r\n            lastRowTdLinks = $('td a.ui-state-default', trs[trs.length - 1]),\r\n            lastDate = lastRowTdLinks[lastRowTdLinks.length - 1];\r\n\r\n        // updating the cached header elements\r\n        updateHeaderElements();\r\n\r\n        setHighlightState(lastDate, container);\r\n        lastDate.focus();\r\n\r\n      }, 0);\r\n    }\r\n\r\n\r\n    function nextDay(dateLink) {\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      if (!dateLink) {\r\n        return;\r\n      }\r\n      var td = $(dateLink).closest('td');\r\n      if (!td) {\r\n        return;\r\n      }\r\n      var nextTd = $(td).next(),\r\n          nextDateLink = $('a.ui-state-default', nextTd)[0];\r\n\r\n      if (nextTd && nextDateLink) {\r\n        setHighlightState(nextDateLink, container);\r\n        nextDateLink.focus(); // the next day (same row)\r\n      } else {\r\n        handleNext(dateLink);\r\n      }\r\n    }\r\n\r\n    function handleNext(target) {\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      if (!target) {\r\n        return;\r\n      }\r\n      var currentRow = $(target).closest('tr'),\r\n          nextRow = $(currentRow).next();\r\n\r\n      if (!nextRow || nextRow.length === 0) {\r\n        nextMonth();\r\n      } else {\r\n        var nextRowFirstDate = $('a.ui-state-default', nextRow)[0];\r\n        if (nextRowFirstDate) {\r\n          setHighlightState(nextRowFirstDate, container);\r\n          nextRowFirstDate.focus();\r\n        }\r\n      }\r\n    }\r\n\r\n    function nextMonth() {\r\n      nextMon = $('.ui-datepicker-next')[0];\r\n      var container = document.getElementById('ui-datepicker-div');\r\n      nextMon.click();\r\n      // focus the first day of the new month\r\n      setTimeout(function () {\r\n        // updating the cached header elements\r\n        updateHeaderElements();\r\n\r\n        var firstDate = $('a.ui-state-default', container)[0];\r\n        setHighlightState(firstDate, container);\r\n        firstDate.focus();\r\n      }, 0);\r\n    }\r\n\r\n    function upHandler(target, cont, prevLink) {\r\n      prevLink = $('.ui-datepicker-prev')[0];\r\n      var rowContext = $(target).closest('tr');\r\n      if (!rowContext) {\r\n        return;\r\n      }\r\n      var rowTds = $('td', rowContext),\r\n          rowLinks = $('a.ui-state-default', rowContext),\r\n          targetIndex = $.inArray(target, rowLinks),\r\n          prevRow = $(rowContext).prev(),\r\n          prevRowTds = $('td', prevRow),\r\n          parallel = prevRowTds[targetIndex],\r\n          linkCheck = $('a.ui-state-default', parallel)[0];\r\n\r\n      if (prevRow && parallel && linkCheck) {\r\n        // there is a previous row, a td at the same index\r\n        // of the target AND theres a link in that td\r\n        setHighlightState(linkCheck, cont);\r\n        linkCheck.focus();\r\n      } else {\r\n        // we're either on the first row of a month, or we're on the\r\n        // second and there is not a date link directly above the target\r\n        prevLink.click();\r\n        setTimeout(function () {\r\n          // updating the cached header elements\r\n          updateHeaderElements();\r\n          var newRows = $('tr', cont),\r\n              lastRow = newRows[newRows.length - 1],\r\n              lastRowTds = $('td', lastRow),\r\n              tdParallelIndex = $.inArray(target.parentNode, rowTds),\r\n              newParallel = lastRowTds[tdParallelIndex],\r\n              newCheck = $('a.ui-state-default', newParallel)[0];\r\n\r\n          if (lastRow && newParallel && newCheck) {\r\n            setHighlightState(newCheck, cont);\r\n            newCheck.focus();\r\n          } else {\r\n            // theres no date link on the last week (row) of the new month\r\n            // meaning its an empty cell, so we'll try the 2nd to last week\r\n            var secondLastRow = newRows[newRows.length - 2],\r\n                secondTds = $('td', secondLastRow),\r\n                targetTd = secondTds[tdParallelIndex],\r\n                linkCheck = $('a.ui-state-default', targetTd)[0];\r\n\r\n            if (linkCheck) {\r\n              setHighlightState(linkCheck, cont);\r\n              linkCheck.focus();\r\n            }\r\n\r\n          }\r\n        }, 0);\r\n      }\r\n    }\r\n\r\n    function downHandler(target, cont, nextLink) {\r\n      nextLink = $('.ui-datepicker-next')[0];\r\n      var targetRow = $(target).closest('tr');\r\n      if (!targetRow) {\r\n        return;\r\n      }\r\n      var targetCells = $('td', targetRow),\r\n          cellIndex = $.inArray(target.parentNode, targetCells), // the td (parent of target) index\r\n          nextRow = $(targetRow).next(),\r\n          nextRowCells = $('td', nextRow),\r\n          nextWeekTd = nextRowCells[cellIndex],\r\n          nextWeekCheck = $('a.ui-state-default', nextWeekTd)[0];\r\n\r\n      if (nextRow && nextWeekTd && nextWeekCheck) {\r\n        // theres a next row, a TD at the same index of `target`,\r\n        // and theres an anchor within that td\r\n        setHighlightState(nextWeekCheck, cont);\r\n        nextWeekCheck.focus();\r\n      } else {\r\n        nextLink.click();\r\n\r\n        setTimeout(function () {\r\n          // updating the cached header elements\r\n          updateHeaderElements();\r\n\r\n          var nextMonthTrs = $('tbody tr', cont),\r\n              firstTds = $('td', nextMonthTrs[0]),\r\n              firstParallel = firstTds[cellIndex],\r\n              firstCheck = $('a.ui-state-default', firstParallel)[0];\r\n\r\n          if (firstParallel && firstCheck) {\r\n            setHighlightState(firstCheck, cont);\r\n            firstCheck.focus();\r\n          } else {\r\n            // lets try the second row b/c we didnt find a\r\n            // date link in the first row at the target's index\r\n            var secondRow = nextMonthTrs[1],\r\n                secondTds = $('td', secondRow),\r\n                secondRowTd = secondTds[cellIndex],\r\n                secondCheck = $('a.ui-state-default', secondRowTd)[0];\r\n\r\n            if (secondRow && secondCheck) {\r\n              setHighlightState(secondCheck, cont);\r\n              secondCheck.focus();\r\n            }\r\n          }\r\n        }, 0);\r\n      }\r\n    }\r\n\r\n\r\n    function onCalendarHide() {\r\n      closeCalendar();\r\n    }\r\n\r\n    // add an aria-label to the date link indicating the currently focused date\r\n    // (formatted identically to the required format: mm/dd/yyyy)\r\n    function monthDayYearText() {\r\n      var cleanUps = $('.amaze-date');\r\n      $(cleanUps).each(function (clean) {\r\n      // each(cleanUps, function (clean) {\r\n        clean.parentNode.removeChild(clean);\r\n      });\r\n\r\n      var datePickDiv = document.getElementById('ui-datepicker-div');\r\n      // in case we find no datepick div\r\n      if (!datePickDiv) {\r\n        return;\r\n      }\r\n\r\n      var dates = $('a.ui-state-default', datePickDiv);\r\n      $(dates).attr('role', 'button').on('keydown', function (e) {\r\n          if (e.which === 32) {\r\n          e.preventDefault();\r\n          e.target.click();\r\n          setTimeout(function () {\r\n            closeCalendar();\r\n          }, 100);\r\n        }\r\n      });\r\n      $(dates).each(function (index, date) {\r\n        var currentRow = $(date).closest('tr'),\r\n            currentTds = $('td', currentRow),\r\n            currentIndex = $.inArray(date.parentNode, currentTds),\r\n            headThs = $('thead tr th', datePickDiv),\r\n            dayIndex = headThs[currentIndex],\r\n            daySpan = $('span', dayIndex)[0],\r\n            monthName = $('.ui-datepicker-month', datePickDiv)[0].innerHTML,\r\n            year = $('.ui-datepicker-year', datePickDiv)[0].innerHTML,\r\n            number = date.innerHTML;\r\n\r\n        if (!daySpan || !monthName || !number || !year) {\r\n          return;\r\n        }\r\n\r\n        // AT Reads: {date} {month} {year} {day}\r\n        // \"December 18 2014 Thursday\"\r\n        var dateText = date.innerHTML + ' ' + monthName + ' ' + year + ' ' + daySpan.title;\r\n        // AT Reads: {date(number)} {name of day} {name of month} {year(number)}\r\n        // var dateText = date.innerHTML + ' ' + daySpan.title + ' ' + monthName + ' ' + year;\r\n        // add an aria-label to the date link reading out the currently focused date\r\n        date.setAttribute('aria-label', dateText);\r\n      });\r\n    }\r\n\r\n\r\n\r\n    // update the cached header elements because we're in a new month or year\r\n    function updateHeaderElements() {\r\n      var context = document.getElementById('ui-datepicker-div');\r\n      if (!context) {\r\n        return;\r\n      }\r\n\r\n    //  $(context).find('table').first().attr('role', 'grid');\r\n\r\n      prev = $('.ui-datepicker-prev', context)[0];\r\n      next = $('.ui-datepicker-next', context)[0];\r\n\r\n      //make them click/focus - able\r\n      next.href = 'javascript:void(0)';\r\n      prev.href = 'javascript:void(0)';\r\n\r\n      next.setAttribute('role', 'button');\r\n      prev.setAttribute('role', 'button');\r\n      appendOffscreenMonthText(next);\r\n      appendOffscreenMonthText(prev);\r\n\r\n      $(next).on('click', handleNextClicks);\r\n      $(prev).on('click', handlePrevClicks);\r\n\r\n      // add month day year text\r\n      monthDayYearText();\r\n    }\r\n\r\n\r\n    function prepHighlightState() {\r\n      var highlight;\r\n      var cage = document.getElementById('ui-datepicker-div');\r\n      highlight = $('.ui-state-highlight', cage)[0] ||\r\n                  $('.ui-state-default', cage)[0];\r\n      if (highlight && cage) {\r\n        setHighlightState(highlight, cage);\r\n      }\r\n    }\r\n\r\n    // Set the highlighted class to date elements, when focus is received\r\n    function setHighlightState(newHighlight, container) {\r\n      var prevHighlight = getCurrentDate(container);\r\n      // remove the highlight state from previously\r\n      // highlighted date and add it to our newly active date\r\n      $(prevHighlight).removeClass('ui-state-highlight');\r\n      $(newHighlight).addClass('ui-state-highlight');\r\n    }\r\n\r\n\r\n    // grabs the current date based on the highlight class\r\n    function getCurrentDate(container) {\r\n      var currentDate = $('.ui-state-highlight', container)[0];\r\n      return currentDate;\r\n    }\r\n\r\n    /**\r\n     * Appends logical next/prev month text to the buttons\r\n     * - ex: Next Month, January 2015\r\n     *       Previous Month, November 2014\r\n     */\r\n    function appendOffscreenMonthText(button) {\r\n      var buttonText;\r\n      var isNext = $(button).hasClass('ui-datepicker-next');\r\n      var months = [\r\n        'january', 'february',\r\n        'march', 'april',\r\n        'may', 'june', 'july',\r\n        'august', 'september',\r\n        'october',\r\n        'november', 'december'\r\n      ];\r\n\r\n      var currentMonth = $('.ui-datepicker-title .ui-datepicker-month').text().toLowerCase();\r\n      var monthIndex = $.inArray(currentMonth.toLowerCase(), months);\r\n      var currentYear = $('.ui-datepicker-title .ui-datepicker-year').text().toLowerCase();\r\n      var adjacentIndex = (isNext) ? monthIndex + 1 : monthIndex - 1;\r\n\r\n      if (isNext && currentMonth === 'december') {\r\n        currentYear = parseInt(currentYear, 10) + 1;\r\n        adjacentIndex = 0;\r\n      } else if (!isNext && currentMonth === 'january') {\r\n        currentYear = parseInt(currentYear, 10) - 1;\r\n        adjacentIndex = months.length - 1;\r\n      }\r\n\r\n      buttonText = (isNext)\r\n                    ? 'Next Month, ' + firstToCap(months[adjacentIndex]) + ' ' + currentYear\r\n                    : 'Previous Month, ' + firstToCap(months[adjacentIndex]) + ' ' + currentYear;\r\n\r\n      $(button).find('.ui-icon').html(buttonText);\r\n\r\n    }\r\n\r\n    // Returns the string with the first letter capitalized\r\n    function firstToCap(s) {\r\n      return s.charAt(0).toUpperCase() + s.slice(1);\r\n    }\r\n</script>\r\n    \r\n    <script type=\"text/javascript\">\r\n        $(document).ready(function () {\r\n            $('.helper_text').keydown(function (e) {\r\n                if (e.key === ' ') {\r\n                    var attr = $(this).attr('onclick');\r\n                    if (attr) {\r\n                        var len = attr.length - 3;\r\n                        if (len > 0) {\r\n                            var msg = attr.substring(7, len);\r\n                            alert(msg);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        });\r\n        $(document).on('invalid-form.validate', 'form', function () {\r\n            var button = $(this).find('.disable-on-save');\r\n            setTimeout(function () {\r\n                button.removeAttr('disabled');\r\n            }, 1);\r\n        });\r\n        $(document).on('submit', 'form', function () {\r\n            var button = $(this).find('.disable-on-save');\r\n            setTimeout(function () {\r\n                button.attr('disabled', 'disabled');\r\n            }, 0);\r\n        });\r\n    </script>    \r\n\r\n</body>\r\n</html>"